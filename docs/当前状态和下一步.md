# ğŸ“ å½“å‰çŠ¶æ€å’Œä¸‹ä¸€æ­¥æ“ä½œ

## âœ… ä½ å·²ç»å®Œæˆ

1. âœ… åˆ›å»ºäº† `public-pages` bucketï¼ˆåœ¨ Supabase Dashboardï¼‰
2. âœ… ç¡®è®¤å¯ä»¥æ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶
3. âœ… å‘ç°äº† RLS æƒé™é—®é¢˜

## âŒ å½“å‰é—®é¢˜

è¿è¡Œ `npm run upload:standalone` æ—¶å‡ºé”™ï¼š
```
âŒ ä¸Šä¼ å¤±è´¥: new row violates row-level security policy
```

**åŸå› **ï¼šSupabase çš„å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰ä¸å…è®¸ä½¿ç”¨æ™®é€šçš„ `anon` key ä¸Šä¼ æ–‡ä»¶ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥ï¼šé€‰æ‹©ä¸€ç§è§£å†³æ–¹æ¡ˆ

### æ¨èï¼šæ–¹æ¡ˆ A - ä½¿ç”¨ Service Role Keyï¼ˆ2åˆ†é’Ÿï¼‰

1. **è·å–å¯†é’¥**
   - è®¿é—®ï¼šhttps://app.supabase.com
   - ä½ çš„é¡¹ç›® â†’ Settings â†’ API
   - å¤åˆ¶ **service_role** å¯†é’¥ï¼ˆä¸æ˜¯ anonï¼‰

2. **è®¾ç½®å¹¶è¿è¡Œ**
   ```bash
   export SUPABASE_SERVICE_ROLE_KEY="ç²˜è´´ä½ çš„å¯†é’¥"
   npm run upload:standalone
   ```

3. **å®Œæˆï¼** ğŸ‰

### å¤‡é€‰ï¼šæ–¹æ¡ˆ B - é…ç½® RLS ç­–ç•¥ï¼ˆ3åˆ†é’Ÿï¼‰

1. **æ‰§è¡Œ SQL**
   - Supabase Dashboard â†’ SQL Editor
   - å¤åˆ¶ `sql/setup-storage-upload-policy.sql` çš„å†…å®¹
   - ç²˜è´´å¹¶ç‚¹å‡» Run

2. **é‡æ–°ä¸Šä¼ **
   ```bash
   npm run upload:standalone
   ```

3. **å®Œæˆï¼** ğŸ‰

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

å¦‚æœéœ€è¦æ›´è¯¦ç»†çš„æ­¥éª¤è¯´æ˜ï¼Œè¯·æŸ¥çœ‹ï¼š

- **[è§£å†³ä¸Šä¼ æƒé™é—®é¢˜.md](./è§£å†³ä¸Šä¼ æƒé™é—®é¢˜.md)** â­ è¯¦ç»†å›¾æ–‡æ•™ç¨‹
- **[å¿«é€Ÿå¼€å§‹.md](./å¿«é€Ÿå¼€å§‹.md)** - å®Œæ•´éƒ¨ç½²æŒ‡å—
- **[sql/setup-storage-upload-policy.sql](./sql/setup-storage-upload-policy.sql)** - SQL è„šæœ¬

---

## â±ï¸ é¢„è®¡æ—¶é—´

- æ–¹æ¡ˆ Aï¼š**2åˆ†é’Ÿ**ï¼ˆåªéœ€å¤åˆ¶å¯†é’¥ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼‰
- æ–¹æ¡ˆ Bï¼š**3åˆ†é’Ÿ**ï¼ˆéœ€è¦æ‰§è¡Œ SQL è„šæœ¬ï¼‰

é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆï¼Œé©¬ä¸Šå°±èƒ½ç”¨ä¸Šä½ çš„ç¨åé˜…è¯»ä¸»é¡µäº†ï¼ğŸš€
