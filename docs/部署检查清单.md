# ✅ SideDoor 稍后阅读主页 - 部署检查清单

## 📋 部署前准备

### 1. Supabase 项目设置

- [ ] 已有 Supabase 项目
- [ ] 项目正常运行
- [ ] 已知项目 URL 和 Anon Key

**验证方法**：
```
访问: https://app.supabase.com
检查项目状态：应显示为 "Active"
```

---

### 2. Storage Bucket 创建

- [ ] 登录 Supabase Dashboard
- [ ] 进入 Storage 页面
- [ ] 创建名为 `public-pages` 的 bucket
- [ ] 勾选 "Public bucket" 选项
- [ ] Bucket 创建成功

**验证方法**：
```
在 Storage 页面应该能看到 "public-pages" bucket
状态显示为 "public"
```

---

### 3. 数据库权限配置

- [ ] 打开 Supabase SQL Editor
- [ ] 复制 `sql/setup-public-read-access.sql` 内容
- [ ] 执行 SQL 脚本
- [ ] 执行成功（无错误）

**验证方法**：
```sql
-- 在 SQL Editor 中执行
SELECT * FROM articles LIMIT 5;
-- 应该能看到数据
```

---

## 🚀 部署步骤

### 4. 配置检查

- [ ] 检查 `public/read-later-standalone.html` 文件
- [ ] 确认第 134-135 行的配置正确：
  ```javascript
  const SUPABASE_URL = 'https://rimhmaeecdcrhuqbisjv.supabase.co';
  const SUPABASE_ANON_KEY = 'your-key-here';
  ```
- [ ] URL 和 Key 与 Supabase Dashboard 中的一致

**查找配置位置**：
```
Supabase Dashboard > Settings > API
- Project URL
- anon public key
```

---

### 5. 安装依赖

- [ ] 运行 `npm install`
- [ ] 安装成功（无错误）

**验证方法**：
```bash
npm list | grep supabase
# 应显示 @supabase/supabase-js 版本
```

---

### 6. 上传文件

- [ ] 运行 `npm run upload:standalone`
- [ ] 看到 "✅ 部署成功！" 消息
- [ ] 复制显示的 URL

**预期输出**：
```
================================================================================
✅ 部署成功！
================================================================================

📍 稍后阅读主页 URL:
   https://rimhmaeecdcrhuqbisjv.supabase.co/storage/v1/object/public/public-pages/read-later.html
```

---

## 🧪 功能测试

### 7. 基础访问测试

- [ ] 在浏览器中打开生成的 URL
- [ ] 页面正常加载（无白屏）
- [ ] 看到 "SideDoor - 稍后阅读" 标题
- [ ] 主题切换按钮可见

---

### 8. 数据加载测试

- [ ] 页面显示加载动画
- [ ] 文章列表正常显示
- [ ] 文章卡片包含标题、摘要等信息
- [ ] 封面图片正常加载（如果有）

**如果显示空列表**：
- 确认扩展中已保存文章
- 检查数据库是否有数据
- 查看浏览器控制台错误

---

### 9. 功能测试

- [ ] 点击文章卡片能打开详情
- [ ] "HTML" 按钮能打开 HTML 文件
- [ ] "PDF" 按钮能打开 PDF 文件
- [ ] "原文" 按钮能打开原始网页
- [ ] 分页功能正常（如果有多页）
- [ ] 主题切换功能正常

---

### 10. 响应式测试

- [ ] 桌面浏览器显示正常
- [ ] 手机浏览器显示正常
- [ ] 平板浏览器显示正常
- [ ] 窗口缩放时布局自适应

**测试方法**：
```
在浏览器中按 F12 打开开发者工具
点击"设备工具栏"图标
测试不同设备尺寸
```

---

## 🎯 使用配置

### 11. 书签设置

- [ ] 按 `Ctrl+D`（Mac: `Cmd+D`）
- [ ] 命名为 "稍后阅读"
- [ ] 保存到书签栏
- [ ] 点击书签能正常打开

---

### 12. 主页设置（可选）

- [ ] 打开浏览器设置
- [ ] 找到"启动时"或"主页"设置
- [ ] 设置为稍后阅读主页 URL
- [ ] 重启浏览器验证

---

### 13. 移动设备设置（可选）

- [ ] 在手机浏览器打开 URL
- [ ] 点击"添加到主屏幕"
- [ ] 设置图标名称
- [ ] 从主屏幕打开验证

---

## 🔍 故障排查

### 问题检查清单

如果遇到问题，按以下顺序检查：

#### 上传失败
- [ ] 检查网络连接
- [ ] 验证 Supabase 配置
- [ ] 确认 bucket 已创建
- [ ] 查看错误消息详情

#### 页面无法加载
- [ ] 检查 URL 是否正确
- [ ] 验证 Storage bucket 是否 public
- [ ] 检查浏览器控制台错误
- [ ] 测试 Supabase 项目状态

#### 数据加载失败
- [ ] 检查数据库中是否有数据
- [ ] 验证 RLS 策略是否正确
- [ ] 检查 API 配置（URL 和 Key）
- [ ] 查看网络请求（F12 > Network）

#### 样式显示异常
- [ ] 清除浏览器缓存
- [ ] 强制刷新（Ctrl+F5）
- [ ] 检查浏览器兼容性
- [ ] 禁用浏览器扩展测试

---

## 📊 部署状态

**完成进度**: _____ / 30

**部署时间**: ____________

**部署人员**: ____________

**访问链接**: ________________________________________________

---

## 🎉 部署完成

当所有项都勾选后，恭喜你成功部署了 SideDoor 稍后阅读主页！

### 下一步

- 📌 分享链接给朋友
- 📱 在所有设备上设置
- 📚 开始享受便捷的阅读体验
- 💡 给项目提建议或反馈

---

## 📞 获取帮助

如遇到问题：

1. 查看 [完整使用指南](./稍后阅读主页使用指南.md)
2. 查看 [快速开始](./快速开始.md)
3. 检查 Supabase Dashboard 日志
4. 提交 GitHub Issue

---

**最后更新**: 2025-11-26
