# 📚 SideDoor 稍后阅读主页使用指南

## 🎯 功能介绍

现在你可以创建一个独立的稍后阅读主页，通过一个公开链接访问你保存的所有文章，无需安装浏览器扩展！

### ✨ 特点

- ✅ **随时随地访问**：通过链接在任何设备上访问你的稍后阅读列表
- ✅ **完全一致**：与扩展中的稍后阅读列表功能完全相同
- ✅ **美观现代**：响应式设计，支持桌面和移动设备
- ✅ **主题切换**：支持亮色/暗色主题
- ✅ **快速便捷**：可以添加到书签，设置为浏览器主页

---

## 🚀 快速开始（推荐）

### 步骤 1：上传文件

在项目根目录运行以下命令：

```bash
npm run upload:standalone
```

### 步骤 2：获取链接

脚本运行成功后，会显示你的稍后阅读主页链接，例如：

```
https://rimhmaeecdcrhuqbisjv.supabase.co/storage/v1/object/public/public-pages/read-later.html
```

### 步骤 3：开始使用

将这个链接：
- 📌 添加到浏览器书签
- 🏠 设置为浏览器主页
- 📱 在手机上访问
- 🔗 分享给他人（如果你希望）

---

## 📖 详细使用说明

### 方案一：独立 HTML 文件（推荐）

**优点**：
- 无需构建项目
- 单文件，方便管理
- 上传后即可使用

**使用步骤**：

1. **确保已安装依赖**
   ```bash
   npm install
   ```

2. **运行上传脚本**
   ```bash
   npm run upload:standalone
   ```

3. **复制显示的 URL**
   
   脚本会自动：
   - 创建 Supabase Storage bucket（如果不存在）
   - 上传 HTML 文件
   - 输出公开访问链接

4. **访问你的稍后阅读主页**
   
   打开浏览器，访问获得的链接即可！

### 方案二：完整构建版本

**优点**：
- 使用 Vue 组件，更易维护
- 更好的开发体验
- 支持更多自定义

**使用步骤**：

1. **构建项目**
   ```bash
   npm run build
   ```

2. **上传构建产物**
   ```bash
   npm run upload:read-later-home
   ```

3. **访问链接**
   
   同样会得到一个公开访问链接

---

## 🔧 配置说明

### 检查 Supabase 配置

确保以下文件中的配置正确：

**文件位置**：`public/read-later-standalone.html`

找到这两行并替换为你的配置：

```javascript
const SUPABASE_URL = 'https://your-project.supabase.co';
const SUPABASE_ANON_KEY = 'your-anon-key';
```

你可以在 Supabase Dashboard 中找到这些信息：
1. 登录 [Supabase Dashboard](https://app.supabase.com)
2. 选择你的项目
3. 点击左侧 "Settings" > "API"
4. 复制 "Project URL" 和 "anon public" key

### 配置 Storage Bucket

如果自动创建 bucket 失败，请手动创建：

1. 在 Supabase Dashboard 中，进入 "Storage"
2. 点击 "New bucket"
3. 名称：`public-pages`
4. 勾选 "Public bucket"
5. 点击 "Create bucket"

### 配置 CORS（如需要）

如果页面加载有问题，可能需要配置 CORS：

1. 在 Supabase Dashboard，进入 "Storage" > "Configuration"
2. 在 "CORS configuration" 中添加：

```json
[
  {
    "allowedOrigins": ["*"],
    "allowedMethods": ["GET", "HEAD"],
    "allowedHeaders": ["*"],
    "maxAgeSeconds": 3600
  }
]
```

---

## 💡 使用技巧

### 1. 添加到书签栏

**Chrome/Edge**：
- 按 `Ctrl+D`（Mac: `Cmd+D`）
- 选择"书签栏"
- 命名为"稍后阅读"

**Firefox**：
- 按 `Ctrl+D`（Mac: `Cmd+D`）
- 选择"书签工具栏"

### 2. 设置为主页

**Chrome/Edge**：
1. 设置 > 启动时
2. 选择"打开特定网页或一组网页"
3. 添加你的稍后阅读链接

**Firefox**：
1. 设置 > 主页
2. 在"主页和新窗口"中输入链接

### 3. 移动设备访问

- 在手机浏览器中打开链接
- 添加到主屏幕，像 App 一样使用
- 支持响应式布局，体验良好

### 4. 主题切换

- 点击右上角的 🌙/☀️ 图标
- 主题偏好会保存在浏览器中
- 每个设备可以独立设置

---

## 🔄 更新部署

修改源文件后，重新运行上传命令：

```bash
npm run upload:standalone
```

文件会自动覆盖，无需手动删除旧版本。

---

## ❓ 常见问题

### Q: 页面显示"加载失败"

**A**: 检查以下几点：
1. Supabase 项目是否正常运行
2. 文件中的 `SUPABASE_URL` 和 `SUPABASE_ANON_KEY` 是否正确
3. Storage bucket 是否设置为 public
4. 浏览器控制台是否有 CORS 错误

### Q: 文章列表为空

**A**: 
1. 确认扩展中已保存了文章
2. 在 Supabase Dashboard 中检查 `articles` 表是否有数据
3. 检查数据库 RLS（Row Level Security）策略是否允许公开读取

### Q: 样式显示异常

**A**:
1. 清除浏览器缓存
2. 强制刷新页面（`Ctrl+F5` 或 `Cmd+Shift+R`）
3. 检查浏览器控制台是否有错误

### Q: 上传脚本失败

**A**:
1. 确保已安装所有依赖：`npm install`
2. 检查网络连接
3. 验证 Supabase 配置是否正确
4. 查看错误信息，按提示操作

### Q: 如何让主页私有？

**A**: 
默认情况下，页面是公开的。如果需要私有访问：
1. 在 Supabase 中设置 RLS 策略，只允许认证用户读取
2. 或者使用不同的 bucket 配置

---

## 🛠️ 技术细节

### 文件结构

```
public/
  └── read-later-standalone.html    # 独立版本（推荐）

entrypoints/read-later-home/         # 完整版本
  ├── index.html
  ├── main.ts
  ├── App.vue
  ├── ReadLaterHomePage.vue
  └── style.css

scripts/
  ├── upload-standalone.ts           # 独立版本上传脚本
  └── upload-read-later-home.ts      # 完整版本上传脚本
```

### 依赖项

- **Supabase Client**：数据访问
- **原生 JavaScript**：独立版本无需构建
- **Vue 3**：完整版本使用

### 数据访问

页面通过 Supabase REST API 访问数据：
- 列表查询：`/rest/v1/articles`
- 支持分页、排序
- 使用 Anon Key 进行认证

---

## 📝 更多信息

### 相关文档

- [Supabase Storage 文档](https://supabase.com/docs/guides/storage)
- [Supabase REST API 文档](https://supabase.com/docs/guides/api)

### 需要帮助？

如有问题或建议，请：
- 查看项目 README
- 提交 GitHub Issue
- 查看 Supabase Dashboard 日志

---

## 🎉 开始使用吧！

现在你已经了解了如何创建和使用稍后阅读主页，赶快试试吧！

```bash
npm run upload:standalone
```

享受随时随地访问你的阅读列表的便利！ 📖✨
